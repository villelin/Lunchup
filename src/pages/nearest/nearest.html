<!--
  Generated template for the NearestPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>


        <ion-navbar >
            <ion-toolbar>
                <img float-left  class="logoYla" src="assets/imgs/Asset 4.svg">
                <ion-title  float-left>Lähimmät</ion-title>
                <ion-searchbar id="haku" (ionInput)="setSearchTerm($event)"></ion-searchbar>
                <ion-buttons (click)="hakuAvaus" end>
                    <button ion-button icon-only color="primary" (click)="dismiss()">
                        <ion-icon name="search"></ion-icon>
                    </button>
                </ion-buttons>
            </ion-toolbar>
        </ion-navbar>





</ion-header>
<ion-content no-padding>
    <div class="wrapper">
        <span *ngFor="let menu of placeProvider.menus">
            <ion-card *ngIf="search(menu.name, menu.items) && placeProvider.isNear(menu.location)">
                <ion-list>
                    <ion-toolbar color="primary">
                        <h2 (click)="presentMenuModal(menu)" class="kymppi">
                            {{ menu.name }}
                        </h2>
                        <p class="osoite">
                            {{ menu.address }}
                        </p>
                        <ion-buttons end class="faveButton">
                            <button ion-button icon-right color="royal"
                                (click)="placeProvider.removeFavourite(menu.name,menu.address)" *ngIf="menu.favourite">
                                <ion-icon name="star"></ion-icon>
                            </button>
                            <button ion-button icon-right color="royal"
                                (click)="placeProvider.addFavourite(menu.name,menu.address)" *ngIf="!menu.favourite">
                                <ion-icon name="star-outline"></ion-icon>
                            </button>
                        </ion-buttons>
                    </ion-toolbar>
                </ion-list>
                    <ion-card-content *ngFor="let item of menu.items">
                        <ion-item class="ruokalista">
                            <section *ngFor="let line of item.food">
                                <p class="ruoka">{{ line.food }} </p> <p class="allergeenit"> {{ line.diets }}</p>
                            </section>
                        </ion-item>
                    </ion-card-content>
                    <ion-card-content *ngIf="menu.weekend">
                        <p>
                            Ei ruokaa tarjolla viikonloppuna.
                        </p>
                    </ion-card-content>
                    <ion-card-content *ngIf="(!menu.weekend && menu.items.length === 0)">
                        <p>
                            Ruokalistaa ei saatavilla.
                        </p>
                    </ion-card-content>
            </ion-card>
        </span>
    </div>
</ion-content>
